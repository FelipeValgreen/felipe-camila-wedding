<!DOCTYPE html>
<html lang="es" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Matrimonio Civil de Felipe y Camila. CelebraciÃ³n, Fiesta y Amor.">
    <title>Felipe & Camila | Matrimonio Civil</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;1,400;1,600&family=Montserrat:wght@300;400;500;600&family=Great+Vibes&family=Cinzel+Decorative:wght@400;700&family=Pinyon+Script&family=Lato:wght@300;400;700&family=Monsieur+La+Doulaise&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        sage: '#8FA382',
                        'sage-light': '#A9BFA8',
                        'sage-dark': '#6B7F60',
                        ivory: '#F9F9F7',
                        sand: '#E6DDC6',
                        'dusty-pink': '#D8B4A0',
                        'sky-blue': '#B4C5C4',
                        charcoal: '#2C3E50',
                        gold: '#C5A059',
                        night: '#111827',
                    },
                    fontFamily: {
                        serif: ['"Cinzel Decorative"', 'serif'],
                        sans: ['"Montserrat"', 'sans-serif'],
                        script: ['"Pinyon Script"', 'cursive'],
                    },
                    backgroundImage: {
                        'paper-texture': "url('https://www.transparenttextures.com/patterns/cream-paper.png')",
                        'sage-texture': "url('https://www.transparenttextures.com/patterns/cubes.png')", /* Subtle texture for envelope */
                    },
                    animation: {
                        'float': 'float 6s ease-in-out infinite',
                        'pulse-slow': 'pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'disco': 'disco 2s linear infinite',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' },
                        },
                        disco: {
                            '0%': { filter: 'hue-rotate(0deg)' },
                            '100%': { filter: 'hue-rotate(360deg)' },
                        }
                    }
                }
            }
        }

        // C. Trivia Logic (Carousel Mode)
        const triviaForm = document.getElementById('trivia-form');
        const triviaSubmitBtn = document.getElementById('trivia-submit-btn');

        // Handle "Other" inputs
        document.querySelectorAll('.other-trigger').forEach(radio => {
            radio.addEventListener('change', (e) => {
                const targetId = e.target.dataset.target;
                const targetInput = document.getElementById(targetId);

                // Hide all other text inputs in this question group
                const questionGroup = e.target.closest('.space-y-3');
                questionGroup.querySelectorAll('input[type="text"]').forEach(input => input.classList.add('hidden'));

                // Show specific input
                targetInput.classList.remove('hidden');
                targetInput.focus();
            });
        });

        // Hide text inputs if main options selected
        document.querySelectorAll('input[type="radio"]:not(.other-trigger)').forEach(radio => {
            radio.addEventListener('change', (e) => {
                const questionGroup = e.target.closest('.space-y-3');
                questionGroup.querySelectorAll('input[type="text"]').forEach(input => input.classList.add('hidden'));
            });
        });

        if (triviaSubmitBtn) {
            triviaSubmitBtn.addEventListener('click', async () => {
                const formData = new FormData(triviaForm);
                let score = 0;
                const answers = {};

                // Correct Answers
                const key = {
                    q1: 'bocas',
                    q2: 'felipe',
                    q3: 'pisco',
                    q4: 'same', // Trick question!
                    q5: 'playa'
                };

                for (let [name, value] of formData.entries()) {
                    if (name.includes('other')) continue; // Skip text inputs for scoring logic for now
                    answers[name] = value;
                    if (value === key[name]) score++;
                }

                // Save to Supabase
                triviaSubmitBtn.disabled = true;
                triviaSubmitBtn.innerHTML = '<i class="fa-solid fa-spinner fa-spin"></i> Guardando...';

                if (typeof window.saveTriviaResult === 'function') {
                    await window.saveTriviaResult(score, answers);
                }

                // Show Result
                alert(`Â¡Tu puntaje es: ${score}/5!\n\nGracias por jugar.`);
                triviaSubmitBtn.disabled = false;
                triviaSubmitBtn.innerHTML = 'Ver Resultado ðŸŽ²';
            });
        }
    </script>

    <style>
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background: #8FA382;
            border-radius: 3px;
        }

        /* Transitions */
        body {
            transition: background-color 1.5s ease, color 1.5s ease;
        }

        .reveal {
            opacity: 0;
            transform: translateY(40px);
            transition: all 1s ease-out;
        }

        .reveal.active {
            opacity: 1;
            transform: translateY(0);
        }

        /* Envelope Overlay */
        #envelope-overlay {
            transition: transform 1.5s cubic-bezier(0.77, 0, 0.175, 1);
        }

        body.locked {
            overflow: hidden;
        }

        /* Navigation */
        #main-nav {
            transition: transform 0.5s ease, background-color 0.5s ease;
            transform: translateY(-100%);
        }

        #main-nav.visible {
            transform: translateY(0);
        }

        #main-nav.scrolled {
            background-color: rgba(249, 249, 247, 0.95);
            backdrop-filter: blur(5px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        /* Polaroid Effect */
        .polaroid {
            background: white;
            padding: 0.75rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s ease, z-index 0s;
        }

        .polaroid:hover {
            z-index: 50;
            transform: scale(1.1) rotate(0deg) !important;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.2);
        }

        /* Glassmorphism */
        .glass {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
    </style>
</head>

<body class="font-sans text-charcoal bg-ivory antialiased locked bg-paper-texture">

    <!-- 1. REALISTIC CSS ENVELOPE INTRO -->
    <div id="envelope-overlay"
        class="fixed inset-0 z-[100] bg-stone-100 flex items-center justify-center p-4 overflow-hidden">
        <!-- Background Texture -->
        <div
            class="absolute inset-0 opacity-30 bg-[url('https://www.transparenttextures.com/patterns/concrete-wall.png')]">
        </div>

        <!-- Floral Accents (Surrounding the Envelope) -->
        <img src="https://images.unsplash.com/photo-1526047932273-341f2a7631f9?q=80&w=600&auto=format&fit=crop"
            class="absolute top-0 left-0 w-80 h-80 object-cover opacity-80 -translate-x-1/4 -translate-y-1/4 rotate-180 pointer-events-none drop-shadow-xl rounded-full mix-blend-multiply">
        <img src="https://images.unsplash.com/photo-1526047932273-341f2a7631f9?q=80&w=600&auto=format&fit=crop"
            class="absolute bottom-0 right-0 w-80 h-80 object-cover opacity-80 translate-x-1/4 translate-y-1/4 pointer-events-none drop-shadow-xl rounded-full mix-blend-multiply">

        <!-- The Envelope Container -->
        <div class="relative w-full max-w-lg aspect-[1.4/1] bg-white shadow-2xl flex items-center justify-center transform transition-transform duration-1000 cursor-pointer group"
            id="open-btn">

            <!-- Envelope Texture -->
            <div
                class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cream-paper.png')] opacity-50">
            </div>

            <!-- Envelope Flap (CSS Triangle) -->
            <div class="absolute top-0 left-0 w-full h-1/2 bg-gray-50 z-10 origin-top transition-transform duration-1000"
                style="clip-path: polygon(0 0, 50% 100%, 100% 0); background-image: url('https://www.transparenttextures.com/patterns/cream-paper.png'); box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1);">
            </div>

            <!-- Envelope Content (Visible on top) -->
            <div class="relative z-20 text-center flex flex-col items-center pt-12">
                <p class="font-serif text-xl tracking-[0.2em] text-charcoal/80 mb-6 uppercase">La Boda de</p>

                <!-- Wax Seal (Centered on Flap Tip) -->
                <div class="relative w-24 h-24 transition-transform duration-500 group-hover:scale-110">
                    <div
                        class="absolute inset-0 bg-burgundy rounded-full shadow-lg flex items-center justify-center border-[3px] border-burgundy/80 ring-2 ring-burgundy/20">
                        <span class="font-serif text-3xl text-gold font-bold italic pt-1 pr-0.5">F&C</span>
                    </div>
                    <div class="absolute top-4 left-4 w-6 h-6 bg-white/10 rounded-full blur-sm"></div>
                </div>

                <div class="mt-8 border-b border-charcoal/30 pb-1 group-hover:border-charcoal transition-colors">
                    <p
                        class="font-sans text-xs font-bold tracking-widest uppercase text-charcoal/60 group-hover:text-charcoal transition-colors">
                        Abrir InvitaciÃ³n</p>
                </div>
            </div>
        </div>
    </div>

    <!-- NAVIGATION -->
    <nav id="main-nav" class="fixed top-0 left-0 w-full z-50 py-4 transition-all duration-300">
        <div class="max-w-6xl mx-auto px-6 flex justify-between items-center">
            <a href="#hero" class="font-serif text-2xl text-sage-dark font-bold">F&C</a>
            <div class="hidden md:flex space-x-8">
                <a href="#story"
                    class="text-xs uppercase tracking-widest text-charcoal hover:text-sage-dark transition-colors">Historia</a>
                <a href="#dresscode"
                    class="text-xs uppercase tracking-widest text-charcoal hover:text-sage-dark transition-colors">Dress
                    Code</a>
                <a href="#party"
                    class="text-xs uppercase tracking-widest text-charcoal hover:text-sage-dark transition-colors font-bold">Fiesta</a>
                <a href="#rsvp"
                    class="text-xs uppercase tracking-widest text-charcoal hover:text-sage-dark transition-colors">RSVP</a>
            </div>
        </div>
    </nav>

    <!-- MAIN CONTENT -->
    <main class="relative overflow-hidden">

        <!-- A. HERO (CIVIL WEDDING) -->
        <section id="hero" class="min-h-screen flex items-center justify-center pt-24 pb-20 relative">
            <div class="max-w-4xl mx-auto text-center px-4 z-10 reveal active">
                <p class="font-sans text-sm tracking-[0.3em] uppercase text-sage-dark mb-6">Nos Casamos</p>
                <h1 class="font-serif text-5xl md:text-7xl text-charcoal mb-4 leading-tight">
                    Matrimonio Civil
                </h1>
                <h2 class="font-script text-5xl md:text-7xl text-sage mb-8">Felipe & Camila</h2>

                <div class="flex items-center justify-center gap-6 mb-10">
                    <div class="h-px w-16 bg-sage"></div>
                    <div class="text-center">
                        <p class="font-serif text-3xl text-charcoal">28</p>
                        <p class="font-sans text-xs uppercase tracking-widest text-slate-500">Marzo 2026</p>
                    </div>
                    <div class="h-px w-16 bg-sage"></div>
                </div>

                <div class="inline-block bg-white/50 px-8 py-4 rounded-full border border-sage/20 backdrop-blur-sm">
                    <p class="font-sans text-xs tracking-widest uppercase text-charcoal">Condominio Las Canteras
                        Chicureo</p>
                </div>
            </div>
        </section>

        <!-- B. STORY (SERENDIPIA) -->
        <section id="story" class="py-32 relative bg-white/80 backdrop-blur-sm">
            <div class="max-w-6xl mx-auto px-4">
                <div class="text-center mb-20 reveal">
                    <h2 class="font-serif text-4xl md:text-5xl text-charcoal mb-6 leading-tight">Serendipia: <br><span
                            class="font-script text-5xl md:text-6xl text-sage">De Bocas del Toro a Santiago y de
                            Santiago al mundo</span></h2>
                    <p class="font-sans text-slate-600 text-sm md:text-base max-w-2xl mx-auto leading-relaxed">
                        Nos conocimos un 4 de Enero de 2019 en las playas de PanamÃ¡. Sin nombres, solo un momento
                        perfecto.
                        3 meses despuÃ©s, el destino jugÃ³ sus cartas: <strong>Daniela y Gonzalo</strong> (nuestros
                        mejores amigos y hoy padrinos) nos reencontraron.
                        Lo que empezÃ³ como una coincidencia, hoy es para siempre.
                    </p>
                </div>

                <div class="relative h-[900px] md:h-[800px] w-full reveal">
                    <!-- Polaroids (Same layout as before, just ensuring they are present) -->
                    <div class="absolute left-4 top-0 md:left-10 md:top-0 w-56 md:w-72">
                        <div
                            class="bg-white p-3 pb-12 shadow-lg transform rotate-[-2deg] hover:rotate-0 transition duration-500 z-10">
                            <div class="aspect-[3/4] overflow-hidden mb-2">
                                <img src="images/story_1.jpg" alt="Paseitos"
                                    class="w-full h-full object-cover filter sepia-[.2]">
                            </div>
                            <p class="font-handwriting text-2xl text-charcoal text-center">Paseitos</p>
                        </div>
                    </div>

                    <!-- Polaroid 2 -->
                    <div class="absolute right-4 top-20 md:right-20 md:top-10 w-60 md:w-72">
                        <div
                            class="bg-white p-3 pb-12 shadow-lg transform rotate-[3deg] hover:rotate-0 transition duration-500 z-20 mt-8">
                            <div class="aspect-[3/4] overflow-hidden mb-2">
                                <img src="images/story_2.jpg" alt="Caminatas"
                                    class="w-full h-full object-cover filter sepia-[.2]">
                            </div>
                            <p class="font-handwriting text-2xl text-charcoal text-center">Caminatas</p>
                        </div>
                    </div>

                    <!-- Polaroid 3 -->
                    <div class="absolute left-1/2 -translate-x-1/2 top-80 md:top-60 w-72 md:w-96">
                        <div
                            class="bg-white p-3 pb-12 shadow-lg transform rotate-[-1deg] hover:rotate-0 transition duration-500 z-10">
                            <div class="aspect-[3/4] overflow-hidden mb-2">
                                <img src="images/story_3.jpg" alt="Playita"
                                    class="w-full h-full object-cover filter sepia-[.2]">
                            </div>
                            <p class="font-handwriting text-2xl text-charcoal text-center">Playita</p>
                        </div>
                    </div>
                    <div
                        class="polaroid absolute left-8 bottom-10 md:left-32 md:bottom-20 w-56 md:w-64 transform rotate-6 z-10">
                        <div class="aspect-[4/5] overflow-hidden mb-3 bg-gray-100">
                            <img src="images/uploaded_image_3_1764298805324.jpg"
                                class="w-full h-full object-cover grayscale hover:grayscale-0 transition-all duration-500">
                        </div>
                        <p class="font-script text-2xl text-center text-charcoal">Para Siempre</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- C. MUSIC QUOTE -->
        <section id="music" class="py-24 text-center reveal">
            <div class="max-w-3xl mx-auto px-6">
                <div class="w-16 h-px bg-sage mx-auto mb-8"></div>
                <blockquote class="font-script text-4xl md:text-5xl text-charcoal leading-relaxed mb-6">
                    "We've come so far, my dear. <br>Look how we've grown. <br>And I wanna stay with you <br>until we're
                    grey and old."
                </blockquote>
                <cite class="font-sans text-xs uppercase tracking-[0.2em] text-sage-dark not-italic">â€” James
                    Arthur</cite>
                <div class="w-16 h-px bg-sage mx-auto mt-8"></div>
            </div>
        </section>

        <!-- D. DRESS CODE (MEDITERRANEAN) -->
        <section id="dresscode"
            class="py-32 bg-gradient-to-b from-ivory to-sky-blue/10 text-center relative overflow-hidden">
            <div class="max-w-3xl mx-auto px-4 relative z-10 reveal">
                <h2 class="font-serif text-4xl text-charcoal mb-2">CÃ³digo de Vestimenta</h2>
                <p class="font-sans text-sage-dark text-sm uppercase tracking-widest mb-4 font-bold">Casual MediterrÃ¡neo
                </p>
                <p class="font-sans text-slate-500 text-xs italic mb-12">Tonos pasteles, telas ligeras y lino.</p>

                <div class="flex flex-wrap justify-center gap-8 mb-8">
                    <!-- Sage -->
                    <div class="flex flex-col items-center gap-2">
                        <div class="w-16 h-16 rounded-full bg-sage shadow-lg ring-4 ring-white"></div>
                        <span class="text-[10px] uppercase tracking-wider text-charcoal">Salvia</span>
                    </div>
                    <!-- Dusty Pink -->
                    <div class="flex flex-col items-center gap-2">
                        <div class="w-16 h-16 rounded-full bg-dusty-pink shadow-lg ring-4 ring-white"></div>
                        <span class="text-[10px] uppercase tracking-wider text-charcoal">Rosa Viejo</span>
                    </div>
                    <!-- Sand -->
                    <div class="flex flex-col items-center gap-2">
                        <div class="w-16 h-16 rounded-full bg-sand shadow-lg ring-4 ring-white"></div>
                        <span class="text-[10px] uppercase tracking-wider text-charcoal">Arena</span>
                    </div>
                    <!-- Sky Blue -->
                    <div class="flex flex-col items-center gap-2">
                        <div class="w-16 h-16 rounded-full bg-sky-blue shadow-lg ring-4 ring-white"></div>
                        <span class="text-[10px] uppercase tracking-wider text-charcoal">Celeste</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- E. PARTY (NEW SECTION) -->
        <section id="party" class="py-32 bg-night text-white relative overflow-hidden">
            <!-- Party Background Effects -->
            <div class="absolute inset-0 bg-gradient-to-br from-purple-900/20 to-blue-900/20"></div>
            <div
                class="absolute top-0 left-0 w-full h-full opacity-20 bg-[url('https://www.transparenttextures.com/patterns/stardust.png')]">
            </div>

            <div class="max-w-4xl mx-auto px-4 text-center relative z-10 reveal">
                <p class="font-sans text-sm tracking-[0.5em] uppercase text-gold mb-6 animate-pulse-slow">Let's Party
                </p>
                <h2
                    class="font-serif text-6xl md:text-8xl mb-12 text-transparent bg-clip-text bg-gradient-to-r from-white via-gold to-white animate-disco">
                    Â¡A Celebrar!</h2>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-12 text-center">
                    <!-- Ceremonia -->
                    <div class="group flex flex-col items-center">
                        <div class="w-16 h-16 mb-6 group-hover:scale-110 transition-transform duration-500">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1"
                                class="w-full h-full text-gold group-hover:text-sage transition-colors duration-300">
                                <circle cx="8" cy="12" r="6" />
                                <circle cx="16" cy="12" r="6" />
                            </svg>
                        </div>
                        <h3
                            class="font-serif text-2xl mb-2 text-gold group-hover:text-sage transition-colors duration-300">
                            Ceremonia</h3>
                        <p class="text-white/60 text-sm">El "SÃ­" quiero</p>
                    </div>

                    <!-- CÃ³ctel -->
                    <div class="group flex flex-col items-center">
                        <div class="w-16 h-16 mb-6 group-hover:scale-110 transition-transform duration-500">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1"
                                class="w-full h-full text-gold group-hover:text-sage transition-colors duration-300">
                                <path
                                    d="M8 21h8m-4-4v4M12 3a6 6 0 0 1 6 6c0 1.66-.67 3.16-1.76 4.24l-4.24 4.24-4.24-4.24A6 6 0 0 1 6 9a6 6 0 0 1 6-6z" />
                                <line x1="12" y1="10" x2="12" y2="3" />
                                <line x1="12" y1="10" x2="16" y2="6" />
                            </svg>
                        </div>
                        <h3
                            class="font-serif text-2xl mb-2 text-gold group-hover:text-sage transition-colors duration-300">
                            CÃ³ctel</h3>
                        <p class="text-white/60 text-sm">Para compartir y celebrar</p>
                    </div>

                    <!-- Fiesta -->
                    <div class="group flex flex-col items-center">
                        <div class="w-16 h-16 mb-6 group-hover:scale-110 transition-transform duration-500">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1"
                                class="w-full h-full text-gold group-hover:text-sage transition-colors duration-300">
                                <circle cx="12" cy="12" r="10" />
                                <path d="M12 2v20M2 12h20M4.93 4.93l14.14 14.14M4.93 19.07L19.07 4.93" />
                            </svg>
                        </div>
                        <h3
                            class="font-serif text-2xl mb-2 text-gold group-hover:text-sage transition-colors duration-300">
                            Fiesta</h3>
                        <p class="text-white/60 text-sm">Baile hasta el amanecer</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- NEW INTERACTIVE SECTIONS START -->

        <!-- 1. GUEST PAPARAZZI ("A travÃ©s de tus ojos") -->
        <section id="paparazzi" class="py-24 relative bg-ivory overflow-hidden">
            <!-- Decorative Film Strip (CSS/SVG) -->
            <div class="absolute top-0 right-0 h-full w-16 md:w-24 bg-charcoal opacity-10 flex flex-col items-center justify-around py-4 pointer-events-none"
                style="background-image: linear-gradient(to bottom, transparent 50%, white 50%); background-size: 100% 40px;">
                <div class="w-10 h-6 bg-white/50 rounded-sm"></div>
                <div class="w-10 h-6 bg-white/50 rounded-sm"></div>
                <div class="w-10 h-6 bg-white/50 rounded-sm"></div>
            </div>


            <div class="max-w-4xl mx-auto px-6 text-center relative z-10">
                <div class="mb-8 text-6xl text-charcoal/80 animate-pulse">
                    <i class="fa-solid fa-camera-retro"></i>
                </div>
                <h2 class="font-serif text-4xl md:text-5xl text-charcoal mb-4">A travÃ©s de tus ojos</h2>
                <p class="font-sans text-slate-600 mb-10 max-w-xl mx-auto">
                    Queremos ver la fiesta desde tu perspectiva. Ãšnete a nuestro Ã¡lbum compartido y sube tus mejores
                    fotos (Â¡y las peores tambiÃ©n!).
                </p>

                <!-- Upload Form -->
                <div class="bg-white p-8 rounded-xl shadow-xl max-w-md mx-auto mb-12">
                    <div class="mb-4">
                        <label class="block text-left text-xs font-bold uppercase tracking-widest text-charcoal mb-2">Tu
                            Nombre</label>
                        <input type="text" id="uploader-name" placeholder="Ej: TÃ­a Coty"
                            class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:border-sage">
                    </div>
                    <div class="mb-6">
                        <label
                            class="block text-left text-xs font-bold uppercase tracking-widest text-charcoal mb-2">Sube
                            tu Foto</label>
                        <input type="file" id="photo-upload" accept="image/*"
                            class="w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-xs file:font-semibold file:bg-sage/10 file:text-sage hover:file:bg-sage/20">
                    </div>
                    <button id="upload-btn"
                        class="w-full bg-charcoal text-ivory font-bold py-3 rounded-lg hover:bg-sage transition-colors uppercase tracking-widest">
                        <i class="fa-solid fa-cloud-arrow-up mr-2"></i> Subir Foto
                    </button>
                    <p id="upload-status" class="mt-4 text-xs font-bold hidden"></p>
                </div>

                <!-- Live Gallery Carousel -->
                <div id="guest-gallery"
                    class="flex overflow-x-auto snap-x snap-mandatory gap-4 pb-4 md:justify-center scrollbar-hide h-64">
                    <!-- Photos will be injected here via JS -->
                    <div
                        class="min-w-[200px] flex items-center justify-center bg-gray-100 rounded-lg text-gray-400 text-xs">
                        Esperando fotos...
                    </div>
                </div>
            </div>
        </section>

        <!-- 2. DJ BOOTH ("MisiÃ³n: Pista Llena") -->
        <section id="dj-booth" class="py-24 relative bg-charcoal text-ivory">
            <div class="max-w-3xl mx-auto px-6 text-center">
                <div class="mb-6 text-5xl text-gold">
                    <i class="fa-solid fa-compact-disc fa-spin" style="animation-duration: 3s;"></i>
                </div>
                <h2 class="font-serif text-4xl md:text-5xl text-gold mb-2">MisiÃ³n: Pista Llena</h2>
                <p class="font-sans text-white/70 mb-10">AyÃºdanos a armar la playlist definitiva. Â¿QuÃ© canciÃ³n no puede
                    faltar?</p>

                <div
                    class="bg-white/5 backdrop-blur-md p-8 rounded-xl border border-white/10 shadow-2xl relative overflow-hidden">
                    <form id="dj-form" class="space-y-6 transition-opacity duration-500">
                        <div>
                            <label for="dj-song"
                                class="block text-left text-xs font-bold uppercase tracking-widest text-gold mb-2">Nombre
                                de la CanciÃ³n / Artista</label>
                            <input type="text" id="dj-song" placeholder="Ej: Dancing Queen - ABBA" required
                                class="w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 text-white placeholder-white/30 focus:outline-none focus:border-gold focus:ring-1 focus:ring-gold transition-colors">
                        </div>
                        <div>
                            <label for="dj-name"
                                class="block text-left text-xs font-bold uppercase tracking-widest text-gold mb-2">Tu
                                Nombre</label>
                            <input type="text" id="dj-name" placeholder="Tu nombre" required
                                class="w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 text-white placeholder-white/30 focus:outline-none focus:border-gold focus:ring-1 focus:ring-gold transition-colors">
                        </div>
                        <button type="submit" id="dj-submit-btn"
                            class="w-full bg-gold text-charcoal font-bold py-3 rounded-lg hover:bg-white transition-colors uppercase tracking-widest flex items-center justify-center gap-2">
                            <span>Solicitar CanciÃ³n ðŸŽµ</span>
                        </button>
                    </form>

                    <!-- Success Message (Hidden by default) -->
                    <div id="dj-success"
                        class="absolute inset-0 flex flex-col items-center justify-center bg-charcoal/95 backdrop-blur-sm opacity-0 pointer-events-none transition-opacity duration-500">
                        <div class="text-6xl text-green-400 mb-4 animate-bounce">âœ…</div>
                        <h3 class="font-serif text-3xl text-gold mb-2">Â¡Solicitud Enviada!</h3>
                        <p class="text-white/80">Â¡PrepÃ¡rate para bailar!</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- 3. TRIVIA DEL AMOR ("Â¿CuÃ¡nto nos conoces?") -->
        <!-- 3. TRIVIA DEL AMOR ("Â¿CuÃ¡nto nos conoces?") - CAROUSEL MODE -->
        <section id="trivia" class="py-24 relative bg-ivory bg-paper-texture overflow-hidden">
            <div class="max-w-6xl mx-auto px-6">
                <div class="text-center mb-10">
                    <h2 class="font-serif text-4xl md:text-5xl text-charcoal mb-4">Â¿CuÃ¡nto nos conoces?</h2>
                    <p class="font-sans text-slate-600">Desliza para jugar ðŸŽ²</p>
                </div>

                <!-- Carousel Container -->
                <form id="trivia-form"
                    class="flex overflow-x-auto snap-x snap-mandatory gap-6 pb-12 px-4 md:justify-center scrollbar-hide">

                    <!-- Q1 -->
                    <div
                        class="min-w-[85vw] md:min-w-[400px] snap-center bg-white p-8 shadow-lg border border-gray-100 rounded-xl relative flex-shrink-0">
                        <span
                            class="absolute -top-4 -left-4 w-10 h-10 bg-sage text-white flex items-center justify-center rounded-full font-serif font-bold text-xl shadow-md">1</span>
                        <h3 class="font-serif text-xl text-charcoal mb-6 font-bold">Â¿DÃ³nde fue el flechazo inicial?</h3>
                        <div class="space-y-3">
                            <label class="block cursor-pointer group">
                                <input type="radio" name="q1" value="bocas" class="peer hidden">
                                <div
                                    class="w-full px-4 py-3 border border-gray-200 rounded-lg peer-checked:bg-sage peer-checked:text-white peer-checked:border-sage hover:bg-gray-50 transition-all">
                                    <span class="font-bold mr-2">A.</span> Bocas del Toro
                                </div>
                            </label>
                            <label class="block cursor-pointer group">
                                <input type="radio" name="q1" value="santiago" class="peer hidden">
                                <div
                                    class="w-full px-4 py-3 border border-gray-200 rounded-lg peer-checked:bg-sage peer-checked:text-white peer-checked:border-sage hover:bg-gray-50 transition-all">
                                    <span class="font-bold mr-2">B.</span> Santiago
                                </div>
                            </label>
                            <label class="block cursor-pointer group">
                                <input type="radio" name="q1" value="other" class="peer hidden other-trigger"
                                    data-target="q1-other">
                                <div
                                    class="w-full px-4 py-3 border border-gray-200 rounded-lg peer-checked:bg-sage peer-checked:text-white peer-checked:border-sage hover:bg-gray-50 transition-all">
                                    <span class="font-bold mr-2">C.</span> Otra / Escribir respuesta
                                </div>
                            </label>
                            <input type="text" id="q1-other" placeholder="Escribe tu respuesta..."
                                class="hidden w-full mt-2 px-4 py-2 border border-sage rounded-lg focus:outline-none focus:ring-2 focus:ring-sage text-charcoal bg-white transition-all">
                        </div>
                    </div>

                    <!-- Q2 -->
                    <div
                        class="min-w-[85vw] md:min-w-[400px] snap-center bg-white p-8 shadow-lg border border-gray-100 rounded-xl relative flex-shrink-0">
                        <span
                            class="absolute -top-4 -right-4 w-10 h-10 bg-burgundy text-white flex items-center justify-center rounded-full font-serif font-bold text-xl shadow-md">2</span>
                        <h3 class="font-serif text-xl text-charcoal mb-6 font-bold">Â¿QuiÃ©n es mÃ¡s probable que llegue
                            tarde a la ceremonia?</h3>
                        <div class="space-y-3">
                            <label class="block cursor-pointer group">
                                <input type="radio" name="q2" value="felipe" class="peer hidden">
                                <div
                                    class="w-full px-4 py-3 border border-gray-200 rounded-lg peer-checked:bg-burgundy peer-checked:text-white peer-checked:border-burgundy hover:bg-gray-50 transition-all">
                                    <span class="font-bold mr-2">A.</span> Felipe
                                </div>
                            </label>
                            <label class="block cursor-pointer group">
                                <input type="radio" name="q2" value="camila" class="peer hidden">
                                <div
                                    class="w-full px-4 py-3 border border-gray-200 rounded-lg peer-checked:bg-burgundy peer-checked:text-white peer-checked:border-burgundy hover:bg-gray-50 transition-all">
                                    <span class="font-bold mr-2">B.</span> Camila
                                </div>
                            </label>
                            <label class="block cursor-pointer group">
                                <input type="radio" name="q2" value="other" class="peer hidden other-trigger"
                                    data-target="q2-other">
                                <div
                                    class="w-full px-4 py-3 border border-gray-200 rounded-lg peer-checked:bg-burgundy peer-checked:text-white peer-checked:border-burgundy hover:bg-gray-50 transition-all">
                                    <span class="font-bold mr-2">C.</span> Otra / Escribir respuesta
                                </div>
                            </label>
                            <input type="text" id="q2-other" placeholder="Escribe tu respuesta..."
                                class="hidden w-full mt-2 px-4 py-2 border border-burgundy rounded-lg focus:outline-none focus:ring-2 focus:ring-burgundy text-charcoal bg-white transition-all">
                        </div>
                    </div>

                    <!-- Q3 -->
                    <div
                        class="min-w-[85vw] md:min-w-[400px] snap-center bg-white p-8 shadow-lg border border-gray-100 rounded-xl relative flex-shrink-0">
                        <span
                            class="absolute -top-4 -left-4 w-10 h-10 bg-sage text-white flex items-center justify-center rounded-full font-serif font-bold text-xl shadow-md">3</span>
                        <h3 class="font-serif text-xl text-charcoal mb-6 font-bold">Â¿CuÃ¡l es el trago favorito de los
                            novios?</h3>
                        <div class="space-y-3">
                            <label class="block cursor-pointer group">
                                <input type="radio" name="q3" value="pisco" class="peer hidden">
                                <div
                                    class="w-full px-4 py-3 border border-gray-200 rounded-lg peer-checked:bg-sage peer-checked:text-white peer-checked:border-sage hover:bg-gray-50 transition-all">
                                    <span class="font-bold mr-2">A.</span> Pisco Sour
                                </div>
                            </label>
                            <label class="block cursor-pointer group">
                                <input type="radio" name="q3" value="gin" class="peer hidden">
                                <div
                                    class="w-full px-4 py-3 border border-gray-200 rounded-lg peer-checked:bg-sage peer-checked:text-white peer-checked:border-sage hover:bg-gray-50 transition-all">
                                    <span class="font-bold mr-2">B.</span> Gin Tonic
                                </div>
                            </label>
                            <label class="block cursor-pointer group">
                                <input type="radio" name="q3" value="other" class="peer hidden other-trigger"
                                    data-target="q3-other">
                                <div
                                    class="w-full px-4 py-3 border border-gray-200 rounded-lg peer-checked:bg-sage peer-checked:text-white peer-checked:border-sage hover:bg-gray-50 transition-all">
                                    <span class="font-bold mr-2">C.</span> Otra / Escribir respuesta
                                </div>
                            </label>
                            <input type="text" id="q3-other" placeholder="Escribe tu respuesta..."
                                class="hidden w-full mt-2 px-4 py-2 border border-sage rounded-lg focus:outline-none focus:ring-2 focus:ring-sage text-charcoal bg-white transition-all">
                        </div>
                    </div>

                    <!-- Q4 -->
                    <div
                        class="min-w-[85vw] md:min-w-[400px] snap-center bg-white p-8 shadow-lg border border-gray-100 rounded-xl relative flex-shrink-0">
                        <span
                            class="absolute -top-4 -right-4 w-10 h-10 bg-burgundy text-white flex items-center justify-center rounded-full font-serif font-bold text-xl shadow-md">4</span>
                        <h3 class="font-serif text-xl text-charcoal mb-6 font-bold">Â¿QuiÃ©n dijo 'Te Amo' primero?</h3>
                        <div class="space-y-3">
                            <label class="block cursor-pointer group">
                                <input type="radio" name="q4" value="el" class="peer hidden">
                                <div
                                    class="w-full px-4 py-3 border border-gray-200 rounded-lg peer-checked:bg-burgundy peer-checked:text-white peer-checked:border-burgundy hover:bg-gray-50 transition-all">
                                    <span class="font-bold mr-2">A.</span> Ã‰l
                                </div>
                            </label>
                            <label class="block cursor-pointer group">
                                <input type="radio" name="q4" value="ella" class="peer hidden">
                                <div
                                    class="w-full px-4 py-3 border border-gray-200 rounded-lg peer-checked:bg-burgundy peer-checked:text-white peer-checked:border-burgundy hover:bg-gray-50 transition-all">
                                    <span class="font-bold mr-2">B.</span> Ella
                                </div>
                            </label>
                            <label class="block cursor-pointer group">
                                <input type="radio" name="q4" value="same" class="peer hidden">
                                <div
                                    class="w-full px-4 py-3 border border-gray-200 rounded-lg peer-checked:bg-burgundy peer-checked:text-white peer-checked:border-burgundy hover:bg-gray-50 transition-all">
                                    <span class="font-bold mr-2">C.</span> Fue al mismo tiempo
                                </div>
                            </label>
                            <label class="block cursor-pointer group">
                                <input type="radio" name="q4" value="other" class="peer hidden other-trigger"
                                    data-target="q4-other">
                                <div
                                    class="w-full px-4 py-3 border border-gray-200 rounded-lg peer-checked:bg-burgundy peer-checked:text-white peer-checked:border-burgundy hover:bg-gray-50 transition-all">
                                    <span class="font-bold mr-2">D.</span> Otra / Escribir respuesta
                                </div>
                            </label>
                            <input type="text" id="q4-other" placeholder="Escribe tu respuesta..."
                                class="hidden w-full mt-2 px-4 py-2 border border-burgundy rounded-lg focus:outline-none focus:ring-2 focus:ring-burgundy text-charcoal bg-white transition-all">
                        </div>
                    </div>

                    <!-- Q5 -->
                    <div
                        class="min-w-[85vw] md:min-w-[400px] snap-center bg-white p-8 shadow-lg border border-gray-100 rounded-xl relative flex-shrink-0">
                        <span
                            class="absolute -top-4 -left-4 w-10 h-10 bg-sage text-white flex items-center justify-center rounded-full font-serif font-bold text-xl shadow-md">5</span>
                        <h3 class="font-serif text-xl text-charcoal mb-6 font-bold">Â¿A dÃ³nde nos irÃ­amos de Luna de Miel
                            si fuera sorpresa?</h3>
                        <div class="space-y-3">
                            <label class="block cursor-pointer group">
                                <input type="radio" name="q5" value="playa" class="peer hidden">
                                <div
                                    class="w-full px-4 py-3 border border-gray-200 rounded-lg peer-checked:bg-sage peer-checked:text-white peer-checked:border-sage hover:bg-gray-50 transition-all">
                                    <span class="font-bold mr-2">A.</span> Playa
                                </div>
                            </label>
                            <label class="block cursor-pointer group">
                                <input type="radio" name="q5" value="montana" class="peer hidden">
                                <div
                                    class="w-full px-4 py-3 border border-gray-200 rounded-lg peer-checked:bg-sage peer-checked:text-white peer-checked:border-sage hover:bg-gray-50 transition-all">
                                    <span class="font-bold mr-2">B.</span> MontaÃ±a
                                </div>
                            </label>
                            <label class="block cursor-pointer group">
                                <input type="radio" name="q5" value="other" class="peer hidden other-trigger"
                                    data-target="q5-other">
                                <div
                                    class="w-full px-4 py-3 border border-gray-200 rounded-lg peer-checked:bg-sage peer-checked:text-white peer-checked:border-sage hover:bg-gray-50 transition-all">
                                    <span class="font-bold mr-2">C.</span> Otra / Escribir respuesta
                                </div>
                            </label>
                            <input type="text" id="q5-other" placeholder="Escribe tu respuesta..."
                                class="hidden w-full mt-2 px-4 py-2 border border-sage rounded-lg focus:outline-none focus:ring-2 focus:ring-sage text-charcoal bg-white transition-all">
                        </div>
                    </div>

                    <!-- Result Button (Last Slide) -->
                    <div
                        class="min-w-[85vw] md:min-w-[400px] snap-center flex items-center justify-center flex-shrink-0">
                        <button type="button" id="trivia-submit-btn"
                            class="bg-charcoal text-ivory px-10 py-4 rounded-full font-serif text-xl hover:bg-sage transition-colors shadow-xl transform hover:-translate-y-1">
                            Ver Resultado ðŸŽ²
                        </button>
                    </div>
                </form>
            </div>

            <!-- Scroll Indicator for RSVP -->
            <div class="absolute bottom-4 left-0 right-0 text-center animate-bounce z-10 pointer-events-none">
                <p class="text-xs uppercase tracking-widest text-charcoal/50 mb-1">Confirmar Asistencia abajo</p>
                <i class="fa-solid fa-chevron-down text-charcoal/50 text-xl"></i>
            </div>
        </section>

        <!-- NEW INTERACTIVE SECTIONS END -->

        <!-- F. RSVP (PARTY MODE) -->
        <section id="rsvp" class="py-32 bg-night relative overflow-hidden">
            <div class="max-w-xl mx-auto px-4 w-full relative z-10 reveal">
                <div class="glass p-8 md:p-12 rounded-2xl shadow-2xl border border-white/10 bg-white/5">
                    <div class="text-center mb-10">
                        <h2 class="font-serif text-4xl text-white mb-4">Confirmar Asistencia</h2>
                        <p class="font-sans text-white/60 text-sm">Â¡No te quedes fuera de la fiesta!</p>
                    </div>

                    <form class="space-y-6">
                        <div class="grid grid-cols-2 gap-6">
                            <input type="text" placeholder="Nombre"
                                class="bg-white/5 border-b border-white/20 py-3 px-2 text-white placeholder-white/30 focus:outline-none focus:border-gold transition-colors">
                            <input type="text" placeholder="Apellido"
                                class="bg-white/5 border-b border-white/20 py-3 px-2 text-white placeholder-white/30 focus:outline-none focus:border-gold transition-colors">
                        </div>
                        <input type="email" placeholder="Correo ElectrÃ³nico"
                            class="w-full bg-white/5 border-b border-white/20 py-3 px-2 text-white placeholder-white/30 focus:outline-none focus:border-gold transition-colors">

                        <!-- Song Request -->
                        <div class="relative">
                            <span class="absolute top-3 right-2 text-xl">ðŸŽµ</span>
                            <input type="text" placeholder="Â¿QuÃ© canciÃ³n no puede faltar?"
                                class="w-full bg-white/5 border-b border-white/20 py-3 px-2 text-white placeholder-white/30 focus:outline-none focus:border-gold transition-colors">
                        </div>

                        <button type="submit"
                            class="w-full bg-gold text-night font-bold py-4 uppercase tracking-widest hover:bg-white transition-colors duration-300 mt-4 shadow-[0_0_20px_rgba(197,160,89,0.3)] hover:shadow-[0_0_30px_rgba(255,255,255,0.5)]">
                            Confirmar & Bailar
                        </button>
                    </form>

                    <div class="mt-12 text-center border-t border-white/10 pt-8">
                        <p class="font-serif text-lg text-white/80 mb-4">Lista de Novios</p>
                        <a href="#"
                            class="text-gold text-sm uppercase tracking-widest hover:text-white transition-colors border-b border-gold hover:border-white pb-1">
                            Tiendas Paris - CÃ³digo: 123456
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <!-- G. RELIGIOUS WEDDING TEASER ("Coming Soon") -->
        <section id="religious-wedding" class="relative py-32 overflow-hidden">
            <!-- Background Image with Overlay -->
            <div class="absolute inset-0 z-0">
                <img src="images/religious_wedding.jpg" alt="Centro de Eventos Arboledas"
                    class="w-full h-full object-cover grayscale opacity-40 hover:grayscale-0 hover:opacity-60 transition-all duration-1000">
                <div class="absolute inset-0 bg-gradient-to-t from-charcoal via-charcoal/80 to-transparent"></div>
            </div>

            <div class="relative z-10 max-w-4xl mx-auto px-6 text-center text-ivory">
                <div class="mb-6">
                    <span
                        class="inline-block px-4 py-1 border border-gold/50 rounded-full text-gold text-xs uppercase tracking-[0.2em] mb-4">PrÃ³ximamente</span>
                </div>
                <h2 class="font-serif text-4xl md:text-6xl text-white mb-6">La Boda Religiosa</h2>
                <div
                    class="flex flex-col md:flex-row items-center justify-center gap-6 md:gap-12 text-white/80 font-sans mb-10">
                    <div class="flex items-center gap-2">
                        <i class="fa-regular fa-calendar text-gold"></i>
                        <span>23 de Octubre 2026 (Tentativo)</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <i class="fa-solid fa-location-dot text-gold"></i>
                        <span>Centro de Eventos Arboledas</span>
                    </div>
                </div>

                <div class="max-w-xl mx-auto bg-white/5 backdrop-blur-sm border border-white/10 p-8 rounded-xl">
                    <p class="font-serif italic text-lg mb-6">"Lo mejor estÃ¡ por venir..."</p>
                    <button disabled
                        class="bg-white/10 text-white/50 px-8 py-3 rounded-full uppercase tracking-widest text-sm cursor-not-allowed border border-white/10">
                        Inscripciones PrÃ³ximamente
                    </button>
                    <p class="text-xs text-white/30 mt-4 uppercase tracking-widest">Enfocados en el Civil por ahora â¤ï¸
                    </p>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-night text-white/20 text-center py-12 border-t border-white/5">
        <div class="max-w-4xl mx-auto px-4">
            <div class="font-serif text-2xl mb-4 text-white/40">F&C</div>
            <p class="text-[10px] uppercase tracking-widest">
                &copy; 2026 Felipe & Camila. Nos vemos en la pista.
            </p>
        </div>
    </footer>

    <!-- Scripts -->
    <!-- Supabase JS (CDN) -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <!-- Custom Supabase Client -->
    <script src="js/supabase-client.js"></script>
    <script>
        // 1. Envelope Intro & Navigation Reveal
        const openBtn = document.getElementById('open-btn');
        const overlay = document.getElementById('envelope-overlay');
        const body = document.body;
        const nav = document.getElementById('main-nav');

        openBtn.addEventListener('click', () => {
            overlay.style.transform = 'translateY(-100%)';
            setTimeout(() => {
                body.classList.remove('locked');
                nav.classList.add('visible');
            }, 1000);
        });

        // 2. Scroll Reveal & Sticky Nav
        const reveals = document.querySelectorAll('.reveal');
        const checkReveal = () => {
            const triggerBottom = window.innerHeight * 0.85;
            reveals.forEach(reveal => {
                const top = reveal.getBoundingClientRect().top;
                if (top < triggerBottom) reveal.classList.add('active');
            });

            // Sticky Nav Background
            if (window.scrollY > 50) {
                nav.classList.add('scrolled');
            } else {
                nav.classList.remove('scrolled');
            }
        };
        window.addEventListener('scroll', checkReveal);

        // 3. INTERACTIVE SECTIONS LOGIC

        // A. Guest Cam Logic
        const uploadBtn = document.getElementById('upload-btn');
        const uploadStatus = document.getElementById('upload-status');
        const galleryContainer = document.getElementById('guest-gallery');

        // Load Gallery on Page Load
        async function loadGallery() {
            if (typeof window.fetchGuestPhotos !== 'function') return;

            const { data, error } = await window.fetchGuestPhotos();

            if (error) {
                console.error("Could not load gallery:", error);
                galleryContainer.innerHTML = '<div class="text-red-400 text-xs">Error al cargar fotos</div>';
                return;
            }

            if (data && data.length > 0) {
                galleryContainer.innerHTML = data.map(photo => `
                    <div class="min-w-[200px] aspect-[4/5] relative flex-shrink-0 bg-white p-2 shadow-md transform hover:rotate-1 transition-transform">
                        <img src="${photo.url}" class="w-full h-full object-cover">
                        <p class="absolute bottom-4 left-0 right-0 text-center font-handwriting text-charcoal text-lg bg-white/80 backdrop-blur-sm py-1">
                            ${photo.uploader_name || 'AnÃ³nimo'}
                        </p>
                    </div>
                `).join('');
            } else {
                galleryContainer.innerHTML = '<div class="min-w-[200px] flex items-center justify-center bg-gray-100 rounded-lg text-gray-400 text-xs">SÃ© el primero en subir una foto ðŸ“¸</div>';
            }
        }

        // Handle Upload
        if (uploadBtn) {
            uploadBtn.addEventListener('click', async () => {
                const fileInput = document.getElementById('photo-upload');
                const nameInput = document.getElementById('uploader-name');
                const file = fileInput.files[0];
                const name = nameInput.value.trim() || 'AnÃ³nimo';

                if (!file) {
                    alert('Por favor selecciona una foto.');
                    return;
                }

                // UI Loading State
                uploadBtn.disabled = true;
                uploadBtn.innerHTML = '<i class="fa-solid fa-spinner fa-spin mr-2"></i> Subiendo...';
                uploadStatus.classList.remove('hidden', 'text-green-600', 'text-red-600');
                uploadStatus.classList.add('text-gray-500');
                uploadStatus.innerText = 'Subiendo a la nube...';

                const { data, error } = await window.uploadGuestPhoto(file, name);

                if (error) {
                    console.error(error);
                    uploadStatus.classList.replace('text-gray-500', 'text-red-600');
                    uploadStatus.innerText = 'Error al subir. Intenta de nuevo.';
                    uploadBtn.disabled = false;
                    uploadBtn.innerHTML = '<i class="fa-solid fa-cloud-arrow-up mr-2"></i> Subir Foto';
                } else {
                    uploadStatus.classList.replace('text-gray-500', 'text-green-600');
                    uploadStatus.innerText = 'Â¡Foto subida con Ã©xito!';

                    // Reset Form
                    fileInput.value = '';
                    nameInput.value = '';

                    // Refresh Gallery
                    await loadGallery();

                    setTimeout(() => {
                        uploadBtn.disabled = false;
                        uploadBtn.innerHTML = '<i class="fa-solid fa-cloud-arrow-up mr-2"></i> Subir Foto';
                        uploadStatus.classList.add('hidden');
                    }, 3000);
                }
            });
        }

        // Initialize Gallery
        // Wait a bit for Supabase script to load
        setTimeout(loadGallery, 1000);


        // B. DJ Booth Form Simulation
        const djForm = document.getElementById('dj-form');
        const djSubmitBtn = document.getElementById('dj-submit-btn');
        const djSuccess = document.getElementById('dj-success');

        djForm.addEventListener('submit', function (e) {
            e.preventDefault();

            // Show Loading State
            const originalBtnContent = djSubmitBtn.innerHTML;
            djSubmitBtn.innerHTML = '<i class="fa-solid fa-spinner fa-spin"></i> Cargando...';
            djSubmitBtn.disabled = true;

            // Simulate Network Request
            setTimeout(() => {
                // Hide Form, Show Success
                djForm.style.opacity = '0';
                djSuccess.classList.remove('opacity-0', 'pointer-events-none');

                // Reset form (optional, for demo purposes)
                setTimeout(() => {
                    djForm.reset();
                    djSubmitBtn.innerHTML = originalBtnContent;
                    djSubmitBtn.disabled = false;
                }, 2000);
            }, 1500);
        });

        // C. Trivia "Other" Logic & Results

        // Handle "Other" Input Visibility
        const radioInputs = document.querySelectorAll('input[type="radio"]');
        const otherInputs = document.querySelectorAll('input[type="text"][id$="-other"]');

        radioInputs.forEach(radio => {
            radio.addEventListener('change', function () {
                // Find the parent question container
                const questionContainer = this.closest('.space-y-3');
                const otherInput = questionContainer.querySelector('input[type="text"][id$="-other"]');

                if (this.value === 'other') {
                    otherInput.classList.remove('hidden');
                    otherInput.focus();
                } else {
                    otherInput.classList.add('hidden');
                }
            });
        });

        // Handle Trivia Submit
        document.getElementById('trivia-submit-btn').addEventListener('click', function () {
            alert("Â¡Gracias por participar! Veremos si acertaste en la fiesta ðŸ¹");
        });

    </script>
</body>

</html>